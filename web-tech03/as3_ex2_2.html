<!DOCTYPE html> 
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Exercise 2 - DOM Operations</title>
</head>
<body>

  <!-- HTML-Inhalt von 2.1 -->
  <a href="https://en.wikipedia.org" target="_new">
    <img src="https://cdn4.iconfinder.com/data/icons/world-flags-rounded/900/uk_united_kingdom_britain_british_flag-512.png">
  </a>
  <a href="https://de.wikipedia.org" target="_new">
    <img src="https://cdn3.iconfinder.com/data/icons/flags-37/300/austria-national-world-512.png">
  </a>
  <a href="https://ja.wikipedia.org" target="_new">
    <img src="https://cdn1.iconfinder.com/data/icons/flags-free/64/Flags_Flag_Country_National_Symbol_Japan-512.png">
  </a>

  <!-- JavaScript-Code von 2.2 -->
  <script>
    // Select the second <a> element on the page (austrian flag) and save it in var link
    var link = document.getElementsByTagName("a")[1];

    // dom-operations - methods are part of dom-api (Document Object Model Application Programming Interface)
    
    // 1 - Log the "href" attribute value of the selected link (hypertext reference)
    console.log(link.attributes["href"].nodeValue);

    // 2 - Log the "href" attribute value using getAttributeNode
    console.log(link.getAttributeNode("href").nodeValue);

    // 3 - Log the full URL of the "href" attribute (incl. protocol https://)
    console.log(link.href);

    // 4 - Log the first child node of link (should be the <img> element, but is an empty string )
    console.log(link.firstChild);

    // 4.1 Gibt das erste <img> Element aus
    console.log(link.children[0]); 

    // 5 - Log the node type of the first attribute (2 represents ATTRIBUTE_NODE)
    console.log(link.attributes[0].nodeType);

    // 6 - Log the node type of the first child node (3 represents TEXT_NODE)
    console.log(link.firstChild.nodeType);

    // 7 - Log the name of the link's parent node (should be BODY)
    console.log(link.parentNode.nodeName);

    // 8 - Log the name of the parent node of the link's last child (should be 'A')
    // HTML-Tags werden in Gro√übuchstaben als nodeName ausgegeben
    console.log(link.lastChild.parentNode.nodeName);

    // 9 - Log the total number of attributes in the selected link
    console.log(link.attributes.length);

    // 2.3 DOMContentLoaded event listener ensures that the target 
    // attribute of the third link is removed as soon as the DOM structure is fully loaded

    document.addEventListener("DOMContentLoaded", function() {
        // Select the third <a> element on the page (japan flag)
        var link = document.getElementsByTagName("a").item(2);

        // Remove the 'target' attribute from the selected link
        link.removeAttribute("target");
    });
  </script>

</body>
</html>